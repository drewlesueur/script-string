<!doctype html>
<html>
<head>
<meta name = "viewport" content = "initial-scale = 1.0"> 
<style>
  * {font-family: 'gill sans'}
  p,table {font-size: 20px}
  .pending { color: gold;}
  .passed { color: green;}
  
  table {border: 1px solid black}
</style>
</head>

<body>
<h1>script-string</h1>
<p>
Use script-string 
when you want to
use strings in your
html app, strings
that come in the
form of script tags
</p>
<h2>tests</h2>
<p>
<table>
 <tr>
 <td>inline</td>
 <td><span id="inline-result" class="pending">pending</span></td>
 </tr>
 <tr>
 <td>external</td>
 <td><span id="external-result" class="pending">pending</span></td>
 </tr>
</p>
<p>
view source to see it in action.
or <a href="https://github.com/drewlesueur/script-string/blob/master/index.html">
see source on github
</a>
</p>


<script src="poor_modules/poor-module.js"></script>
<script src="script-string.js"></script>
<script id="external-script" src="test.txt" type="."></script>
<script id="inline-script" type=".">
inline works!
</script>


<script>
  window.onerror = function (e) {
    alert(e)
    return false
  }

var script_string = poorModule("script-string")
var inline_result = document.getElementById("inline-result")
var external_result = document.getElementById("external-result")
script_string("inline-script", function (err, str) {
  if (str == "inline works!") {
    inline_result.classList.remove("pending")
    inline_result.classList.add("passed")
    inline_result.innerHTML = "passed"
  }
})
script_string("external-script", function (err, str) {
  if (str == "external works!") {
   external_result.classList.remove("pending")

   external_result.classList.add("passed")
   external_result.innerHTML = "passed"
  }
})

</script>

